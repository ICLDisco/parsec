if(NOT TARGET MKL::MKL_DPCPP)
    find_package(MKL)
    if(NOT MKL_FOUND)
        message(WARNING "Could not find the package for MKL. Define the CMake variable MKL_ROOT to point to the directory holding MKLConfig.cmake, or the MKL_DIR environment variable to point to the same directory")
    endif(NOT MKL_FOUND)
endif(NOT TARGET MKL::MKL_DPCPP)
if(TARGET MKL::MKL_DPCPP)
message(STATUS "MKL was found and target MKL::MKL_DPCPP is defined. Level-zero can be tested")
    parsec_addtest_executable(C lz SOURCES main.c kernel.dpcpp.C interface.dpcpp.C)
    target_include_directories(lz PRIVATE $<$<NOT:${PARSEC_BUILD_INPLACE}>:${CMAKE_CURRENT_SOURCE_DIR}>)
	target_link_libraries(lz PRIVATE MKL::MKL_DPCPP level_zero::ze_loader)
else(TARGET MKL::MKL_DPCPP)
	message(STATUS "Target MKL::MKL_DPCPP is not defined, Level Zero test with DPCPP is disabled")
endif(TARGET MKL::MKL_DPCPP)
